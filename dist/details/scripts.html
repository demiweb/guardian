
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script
        src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css"
/>
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>

<script type="text/javascript" src="./libs/jq.maskedinput.js"></script>
<!--<script type="text/javascript"  src="./libs/scrollBar.js"></script>-->
<!--<script type="text/javascript"  src="./libs/jquery.codex.js"></script>-->
<script type="text/javascript" src="https://unpkg.com/smooth-scrollbar@latest/dist/smooth-scrollbar.js"></script>
<script type="text/javascript" src="https://unpkg.com/smooth-scrollbar@latest/dist/plugins/overscroll.js"></script>
<script type="text/javascript" class="main-script" src="./js/scripts.min.js"></script>


<div class="modal-window" data-popop="slider">
    <div class="backplate">

    </div>
    <div class="modal-container">
        <div class="modal-close">
            <span></span>
            <span></span>
        </div>

        <div class="modal-cont">

        </div>

    </div>

</div>
<script>
    let popsSlides = [...document.querySelectorAll('.pop-image')];
    let popSlider = [...document.querySelectorAll('.modal-cont .popup-inner-cont')];


    function openModalPops() {
        if (popsSlides.length) {

            let modalSlider = document.querySelector('.modal-window[data-popop="slider"]');
            let mdCont = modalSlider.querySelector('.modal-cont');
            modalSlider.querySelector('.backplate').addEventListener('click', () => {
                modalSlider.classList.remove('visible');
                document.body.classList.remove('no-scroll');
                mdCont.innerHTML = '';
            });
            modalSlider.querySelector('.modal-close').addEventListener('click', () => {
                modalSlider.classList.remove('visible');
                document.body.classList.remove('no-scroll');
                mdCont.innerHTML = '';
            });

            popsSlides.forEach((btn, k) => {
                let btnSld = btn.querySelector('.popup-inner-cont').cloneNode(true);


                btn.addEventListener('click', () => {

                    modalSlider.classList.add('visible');
                    document.body.classList.add('no-scroll');
                    mdCont.appendChild(btnSld);
                    popSlider = [...document.querySelectorAll('.modal-cont .popup-inner-cont')];
                    startPopSlider();
                })
            })
        }
    }

    openModalPops();


    function startPopSlider() {
        if (!popSlider.length) {

        } else {


            popSlider.forEach((sld) => {
                let sldCont = sld.querySelector('.swiper');

                let sldNext = sld.querySelector('.arr_right');
                let sldPrev = sld.querySelector('.arr_left');

                const swiper2 = new Swiper(sldCont, {
                    // Optional parameters
                    loop: false,
                    slidesPerView: 1,
                    slidesPerGroup: 1,
                    speed: 700,
                    centeredSlides: false,

                    autoplay: false,
                    spaceBetween: 14,

                    navigation: {
                        nextEl: sldNext,
                        prevEl: sldPrev,
                    },


                });


            })
        }


    }


</script>